<!DOCTYPE html>
<html lang="en">
<head>
	<title>Search</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
	<script>

		var findBook1 = false;
		var findBook2 = false;
		var findBook3 = false;

		var book1={
			title: "book1",
			author: "author1",
			year:"1991",
			ISBN:"111-2-33-444444-5",
		};
		var book2={
			title: "book2",
			author: "author2",
			year:"1992",
			ISBN:"666-7-88-999999-1"
		};
		var book3={
			title: "book3",
			author: "author3",
			year:"1993",
			ISBN:"222-1-44-888888-9"
		};
		function showBook(){

			if(findBook1 == true){
				var showBook1 = document.createElement('p');
				var book1Link = document.createElement('a');
				book1Link.setAttribute('href','book1.html');
				book1Link.innerHTML = "book1";
				showBook1.appendChild(book1Link);
				showBook1.innerHTML = showBook1.innerHTML + ' ' + book1.author + ' ' + book1.year + ' ' + book1.ISBN;
				document.getElementById('result').appendChild(showBook1);
			}


			if(findBook2 == true){
				var showBook2 = document.createElement('p');
				var book2Link = document.createElement('a');
				book2Link.setAttribute('href','book2.html');
				book2Link.innerHTML = "book2";
				showBook2.appendChild(book2Link);
				showBook2.innerHTML = showBook2.innerHTML + ' ' + book2.author + ' ' + book2.year + ' ' + book2.ISBN;
				document.getElementById('result').appendChild(showBook2);
			}

			if(findBook3 == true){
				var showBook3 = document.createElement('p');
				var book3Link = document.createElement('a');
				book3Link.setAttribute('href','book3.html');
				book3Link.innerHTML = "book3";
				showBook3.appendChild(book3Link);
				showBook3.innerHTML = showBook3.innerHTML + ' ' + book3.author + ' ' + book3.year + ' ' + book3.ISBN;
				document.getElementById('result').appendChild(showBook3);
			}

			if(findBook1 == false && findBook2 == false && findBook3 == false){
				var noFound = document.createElement('p');
				noFound.innerHTML = "sorry, there is no match book.";
				document.getElementById('result').appendChild(noFound);
			}
		}
	</script>
</head>
<body>
	<div id="result"></div>
	<script>
	function checkLogin(){
		var parameters = location.search.substring(1).split("&");
			var temp = parameters[0].split("=");
			var num = unescape(temp[1]);
			var inputNum = num * 2;
			var i;
			
			for(i = 1; i <= inputNum; i = i + 2){
				var temp1 = parameters[i].split("=");
				var type = unescape(temp1[1]);
				
				var temp2 = parameters[i+1].split("=");
				var key = unescape(temp2[1]);

				if(type == "Title"){
					if(key == book1.title)
						findBook1 = true;
					else if(key == book2.title)
						findBook2 = true;
					else if(key == book3.title)
						findBook3 = true;
				}
				if(type == "Author"){
					if(key == book1.author)
						findBook1 = true;
					else if(key == book2.author)
						findBook2 = true;
					else if(key == book3.author)
						findBook3 = true;
				}
				if(type == "Year"){
					if(key == book1.year)
						findBook1 = true;
					else if(key == book2.year)
						findBook2 = true;
					else if(key == book3.year)
						findBook3 = true;
				}
				if(type == "ISBN"){
					if(key == book1.ISBN)
						findBook1 = true;
					else if(key == book2.ISBN)
						findBook2 = true;
					else if(key == book3.ISBN)
						findBook3 = true;
				}
			}
		}

		checkLogin();
		showBook();

	</script>
	</body>
</html>