<!DOCTYPE html>
<html lang="en">
<head>
	<title>UMBC Library Catalog</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
	<link rel="stylesheet" type="text/css" href="index.css">
<script>
		
		var loginStatus = false;
		var counter = 1;
		var sStat = false;
		var libStat = false;
		var mainStat = false;

		function addMore(){
			var max = 3;
			if(counter < max){
				counter++;
				var searchDiv = document.createElement('div');
				searchDiv.innerHTML = document.getElementById('hidden').innerHTML;
				searchDiv.setAttribute('id', 'extra' + counter);
				document.getElementById('search').appendChild(searchDiv);

			}
			else{
				alert("Reaching maximum amount of keyword");
			}
		}

		
		function deleteBar(){
			if(counter == 1){
				alert("Reaching minium amount of keyword");
			}
			var remove = document.getElementById('extra'+counter);
			remove.parentNode.removeChild(remove);		
			counter--;
		}
		
		function login(){
			loginStatus = true;
			
			var accLink = document.createElement('li');
			accLink.setAttribute('class','nav-item');
			var acc = document.createElement('a');
			acc.setAttribute('class','nav-link');
			acc.setAttribute('href','account.html');
			acc.innerHTML=acc.innerHTML+"Account";
			accLink.appendChild(acc);
			document.getElementById('menuList').appendChild(accLink);

			document.getElementById("searchBar").innerHTML;
			document.getElementById("logLink").innerHTML="Sign Out";
			document.getElementById("logLink").href="";
			document.getElementById("logLink").setAttribute("onclick","logout()");
		}

		function logout(){
			var c = confirm("Do you want to log out?");
			if(c==true){
				loginStatus = false;
				sStat = false;
				libStat = false;
				mainStat = false;
				location.replace("index.html")
			}
		}
		
		function checkHome(){
			if(login == true){
				document.getElementById("home").href="";
			}
			else{
				document.getElementById("home").href="index.html";
			}
		}

		function clearKey(){
			document.getElementById('searchBar').value = '';
			if(counter > 1){
				var i;
				for(i = counter; i > 1; i--){
					var remove = document.getElementById('extra'+counter);
					remove.parentNode.removeChild(remove);		
					counter--;
				}
			}
		}
	</script>
</head>
<body>
	<nav class="navbar navbar-expand-md bg-dark navbar-dark">
		<a class="navbar-brand" href="" id="home" onclick="checkHome">Home</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="collapsibleNavbar">
			<ul class="navbar-nav" id="menuList">
				<li class="nav-item">
					<a class="nav-link" href="login.html" id="logLink">Sign in</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="help.html">Help</a>
				</li>
			</ul>
		</div>  
	</nav>

	<div style="height: 100vh">
    	<div class="container h-100">
        	<div class="jumbotron">
				<img src="UMBC logo.png" alt="UMBC logo" style="width:100px;height:20px;">
				<h1 style = "text-align:center;"> UMBC Library Catalog</h1>
				<p class="text-center">Welcome come to UMBC Library</p>
				<form style="text-align:center;">
					<div id='search'>
						<div class="form-group row">
							<div class="form-group col-md-2">
   								<select class="form-control">
     								<option>Title</option>
									<option>Author</option>
									<option>Year</option>
									<option>ISBN</option>
    							</select>
							</div>
							<div class="form-group col-md-10">
    							<input type="text" id="searchBar" class="form-control" placeholder="Keywords">
    						</div>
  						</div>
					</div>
					<button type="button" onclick="#" class="btn btn-dark">Search</button>
					<button type="button" onclick="clearKey()" class="btn btn-dark">Clear</button>
					<button type="button" onclick="addMore();" class="btn btn-dark" >Add more keyword</button>
					<button type="button" onclick="deleteBar();" class="btn btn-dark">Delete the keyword</button>
				</form>
			</div>
			<br>
		</div>
	</div>
	<div id="hidden" style="display:none">
		<div id='search'>
			<div class="form-group row" >
				<div class="form-group col-md-2">
   					<select class="form-control">
     						<option>Title</option>
						<option>Author</option>
						<option>Year</option>
						<option>ISBN</option>
    					</select>
				</div>
				<div class="form-group col-md-10">
    					<input type="text" id="searchBar" class="form-control" placeholder="Keywords">
    				</div>
  			</div>
		</div>
	</div>

	<script>
		function checkLogin(){
			var parameters = location.search.substring(1).split("&");
			var temp = parameters[0].split("=");
			var l = unescape(temp[1]);
			if(l == "std"){
				sStat = true;
				login();
			}
			else if(l == "lib"){
				libStat = true;
				login();

			}
			else if(l == "main"){
				mainStat = true;
				login();

			}
		}
		checkLogin();
	</script>
</body>
</html>